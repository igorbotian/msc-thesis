\Paragraph{Вводный параграф}
%
С архитектурной точки зрения, \EnglishText{PeerHood} состоит из нескольких компонентов: демона, программной библиотеки и набора сетевых плагинов.
%
Они представлены на \ReferenceToFigure{peerhood_components}. 
%
В совокупности компоненты составляют промежуточное \RussianAbbreviation{ПО}, предоставляющее возможность коммуникаций в пиринговой мобильной среде в независимости от используемой сетевой технологии.

\ReproducedImageFigure{Компоненты PeerHood}{peerhood_components}{Kolehmainen2010}

\Paragraph{Компоненты PeerHood}{}
%
Демон \EnglishText{PeerHood} является независимым процессом, который отвечает непосредственно за коммуникацию между устройствами с помощью конкретной сетевой технологии.
%
Поддержка демоном новых сетевых технологий осуществляется за счёт использования сторонних расширений.
%
Программная библиотека \EnglishText{PeerHood} является компонентом, который отвечает за взаимодействие с пользовательскими приложениями посредством \Abbreviation{API} и выполняет роль связующего звена между приложениями и демоном.
%
Таким способом для пользовательских приложений инкапсулируется процесс коммуникации, и достигается её прозрачность.

\SubSubSectionTitle{Демон}{peerhood_architecture_daemon}
\Paragraph{Демон PeerHood}
%
Демон \EnglishText{PeerHood} работает в качестве фонового процесса, выполняющего операции по обнаружению устройств и сервисов в пиринговом окружении.
%
Эти операции является довольно дорогостоящими и потребляют много ресурсов, поэтому они выполняются в отдельном компоненте.
%
В этом случае на момент запуска пользовательского приложения нет необходимости собирать информацию об окружении, поэтому снижается время, необходимое приложению для полноценной работы.
%
Данный компонент имеет такое название, так как работает в фоне и полностью соответствует \EnglishText{POSIX}-понятию \Emphasis{демон} \Reference{POSIX2008}.

\Paragraph{Локальные сервисы, взаимодействие с демоном}
%
В свою очередь, демон не только собирает информацию о других устройствах и сервисах в окружении.
%
Он обеспечивает работу локальных сервисов и предоставляет возможность их использования другими устройствами.
%
Для этого он отправляет других устройствам информацию о локальных сервисах, которые функционируют на данном устройстве.
%
Передача данных, а также регистрация и дерегистрация локальных сервисов пользовательскими приложениями осуществляется посредством программной библиотеки, которая является ещё одним компонентом \EnglishText{PeerHood}.

\SubSubSectionTitle{Программная библиотека}{peerhood_architecture_library}
\Paragraph{Взаимодействие с пользовательскими приложениями}
%
Данный компонент выполняет роль связующего звена между пользовательскими приложениями с демоном.
%
Он представляет из себя динамически подключаемую библиотеку, которая напрямую используется пользовательскими приложениями.
%
Взаимодействие с приложениями происходит посредством специально спроектированного \Abbreviation{API}, представленного в \ReferenceToAppendix{appendix_peerhood_api}.
%
Для приложений библиотека является средством для получения данных о других устройствах в окружении \EnglishText{PeerHood}, средством использования доступных на них удалённых сервисов, а также для возможности предоставления услуг локальных сервисов.
%
Взаимодействие между демоном и программной библиотекой происходит с использованием интерфейса на основе \Emphasis{сокета} \Reference{Stevens2004}.

\SubSubSectionTitle{Сетевые расширения}{peerhood_architecture_plugins}
\Paragraph{Описание}
%
Подсистема сетевых расширения создана для упрощения добавления поддержки новых сетевых технологий и последующего их использования.
%
Каждое расширение выполняет операции, которые являются специфическими для конкретной сетевой технологии.
%
Но в то же время расширения обязано иметь строго определённый \Abbreviation{API}, используемый демоном.
%
Фактически, расширения представляют из себя динамически подключаемые библиотеки, которые загружаются демоном в процессе работы \EnglishText{PeerHood}.
%
Текущая реализация проекта имеет поддержку следующих сетевых технологий: \EnglishText{Bluetooth} \WebSite{Bluetooth}, \Abbreviation{WLAN} \WebSite{WLAN} и \Abbreviation{GPRS} \WebSite{GPRS}.

\SubSubSectionTitle{Пользовательские приложения}{peerhood_architecture_applications}
\Paragraph{Описание}
%
В архитектуре \EnglishText{PeerHood} пользовательские приложения находятся на самом высоком уровне.
%
Это означает, что операции, специфические для сетевых технологий, выполняются компонентами, которые находятся на более низких уровнях.
%
Таким образом достигается прозрачность взаимодействия на уровне приложений, и они являются независимыми от используемой в конкретный момент времени сетевой технологии.

\Paragraph{Модель взаимодействия}
%
Для взаимодействия между пользовательскими приложениями используется модель "клиент - сервер".
%
То есть какое-либо приложение может как использовать сервис, предоставляемый другим приложением, так и предоставлять свой сервис для других приложений. 
%
При этом взаимодействующие приложения физически могут быть запущены как на одном устройстве, так и на разных. 
%
В одно и то же время приложение может как предоставлять сервис, так и использовать свой.
%
Наконец, приложение может следить за присутствием какого-либо устройства в окружении \EnglishText{PeerHood}.
%
Когда это устройство появляется в окружении или покидает его, приложение получает уведомление.