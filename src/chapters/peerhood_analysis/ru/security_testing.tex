\Paragraph{Доступность исходного кода PeerHood}
%
Набор используемых методов тестирования безопасности \RussianAbbreviation{ПО} зависит от доступности исходного кода тестируемого \RussianAbbreviation{ПО} и его сторонних компонентов.
%
\EnglishText{PeerHood} является открытым \RussianAbbreviation{ПО}, поэтому его исходный код доступен \Reference{PeerHoodGitorious} (для тестирования используется версия \Italic{81eeb64} от \FourDigitsDate{2011}{08}{11}). 
%
Поэтому необходимо провести выбор необходимых методов тестирования из числа тех, которые рассматриваются в \InReferenceToSection{software_security_analysis}.
%
По причине доступности исходного кода в первую очередь встаёт вопрос о необходимости тестирования по методу ''чёрного'' ящика. 

% -------------------------------------------------------------------------------------------------------------------------

\SubSubSectionTitle{Выбор методов тестирования}{peerhood_analysis_security_testing_method_choosing}

\Paragraph{Fuzz-тестирование}
%
\EnglishText{Fuzz}-тестирование по своей природе довольно затратно, а результаты его проведения можно получить более лёгким способом, а именно при помощи ревизии участков кода, представляющих собой точки входа приложения.
%
Для \EnglishText{PeerHood} это ''уязвимые'' места, перечисленные в \InReferenceToSection{peerhood_analysis_risk_modeling}. 

\Paragraph{Реверс-инжиниринг}
%
Проведение реверс-инжиниринга является излишним по причине доступности исходного кода, а закрытые сторонние компоненты не используются. 
%
\EnglishText{PeerHood} в качестве платформы использует фреймворк \EnglishText{Qt} \Reference{Qt}, поэтому можно сказать, что его безопасность зависит от безопасности данной платформы. 

\Paragraph{Отладка по методу чёрного ящика}
%
Проведение отладки по методу чёрного ящика также излишне по тем же причинам, что и проведение реверс-инжиниринга. 
%
Более всесторонний анализ того, как приложение взаимодействует с программной средой, можно провести с помощью тестирования по методу ''белого'' ящика. 
%

\Paragraph{Сканеры уязвимости}
%
Использование сканеров уязвимостей излишне по той же причине, что и проведение \EnglishText{fuzz}-тестирования. 
%
Более качественные результаты можно получить путём ревизии участков кода, представляющих собой ''уязвимые'' места \EnglishText{PeerHood}. 

\Paragraph{Внедрение неисправностей в исходный код}
%
Внедрение неисправностей в исходный код также излишне по причине доступности исходного кода \EnglishText{PeerHood}. 
%
Вместо него можно провести ревизию исходного кода с целью анализа механизма обработки ошибок и проверки принципа ''безопасность в глубине''. 
%
\EnglishText{PeerHood} не является большим проектом. 

\Paragraph{Внедрение неисправностей}
%
Напротив, внедрение неисправностей в ресурсы и компоненты приложения может быть эффективным. 
%
С помощью него можно оценить, насколько \EnglishText{PeerHood} является отказоустойчивым к неисправностям среды (ресурсов, сторонних компонентов, программного окружения). 

\Paragraph{Тестирование внедрения}
%
Проведение тестирования внедрения направлено на оценку отказоустойчивости приложения. 
%
Оценка рисков, анализ ''уязвимых'' мест и поиск уязвимостей составляют множество мероприятий, которые используются при тестировании внедрения. 
%
Поэтому можно сказать, что процесс анализа безопасности \EnglishText{PeerHood} подразумевает проведение тестирования внедрения. 

\Paragraph{Тестирование, основанное на свойствах}
%
То же самое можно сказать про проведение тестирования, основанного на свойствах. 
%
Тестирование безопасности \EnglishText{PeerHood} направлено на оценку таких характеристик, как составляющие \EnglishText{CIA Triad} применительно к \EnglishText{PeerHood}. Ниже приведён развёрнутый список данных характеристик:
\begin{itemize}
	%\leftskip2em%
	\setlength{\itemsep}{0pt}%
	%\setlength{\parsep}{0pt}%

	\item возможность передачи данных по сети
	\item конфиденциальность и целостность данных, передаваемых по сети

	\item доступность, конфиденциальность и целостность актуальной информации об устройствах в сетевом окружении
	\item возможность обмена пользовательских данных и данных об устройствах в сетевом окружении между устройствами
	\item возможность одновременной поддержки нескольких клиентов

	\item доступность, конфиденциальность и целостность актуальной информации о доступных сервисах в сетевом окружении
	\item возможность обмена информации о доступных сервисах в сетевом окружении между устройствами

	\item возможность передачи пользовательских данных между устройствами
	\item конфиденциальность и целостность пользовательских данных, передаваемых между устройствами
	\item возможность контроля работы системы
\end{itemize}

\Paragraph{Статический и динамический анализ кода}
%
Проведение статического и динамического анализа направлено на поиск уязвимостей соответственно на уровне исходного кода и времени выполнения. 
%
Использование разнообразных инструментальных средств способствует более детальному анализу \EnglishText{PeerHood}. 
%
Но применение данных методов тестирования безопасности не позволяет провести всесторонний анализ приложения. 
%
Поэтому можно сказать, что их проведение обосновано и не является излишним.

\Paragraph{Ревизия кода}
%
С помощью автоматизированных методов тестирования безопасности можно найти лишь ограниченное количество уязвимостей. 
%
Поэтому для выполнения всестороннего анализа безопасности \EnglishText{PeerHood} необходимо проведение ревизии исходного кода. 
%
Причём, как уже было упомянуто выше, особенно это актуально для ''уязвимых'' мест приложения. 

% -------------------------------------------------------------------------------------------------------------------------

\SubSubSectionTitle{Проведение статического анализа}{peerhood_analysis_security_testing_static_analysis}

\Paragraph{Цель проведения статического анализа}
%
Целью проведения статического анализа является поиск уязвимостей безопасности уровня исходного кода (см. \ReferenceToSection{software_security_analysis_blackbox_testing_techniques_static_code_analysis}). 
%
Оно заключается в использовании автоматических инструментальных средств, направленных на поиск ошибок программирования, влияющих на безопасность приложения. 
%
Для проведения статического анализа \EnglishText{PeerHood} используются следующие инструменты: \Term{Cppcheck}, \Term{RATS}, средства проверки компилятора \Term{GCC}. 

\Paragraph{GCC}
%
Компилятор \Term{GCC} позволяет осуществлять поиск уязвимостей форматных строк, проверку границ массивов, обнаружение неинициализированных данных и других ошибок на этапе компиляции \WebSite{GCC}. 
%
Для этого при сборке проекта вызов компилятора происходит с передачей специального аргумента \SourceCode{-Wall}, включающего выполнение указанных выше действий. 
%
Компиляция \EnglishText{PeerHood} происходит успешно и с отсутствием каких-либо предупреждений. 
%
Это говорит о том, что с использованием данного инструментального средства уязвимости безопасности не найдены. 

\Paragraph{Cppcheck}
%
\Term{Cppcheck} направлен на поиск ошибок следующего вида: выход за пределы границ массивов, безопасность исключений, утечка памяти, неинициализированные значения переменных и т.п. \WebSite{Cppcheck}. 
%
Использование данного инструментального средства ошибок в \EnglishText{PeerHood} не выявило (см. \ReferenceToAppendix{appendix_cppcheck_output}). 
%
Приводится лишь несколько рекомендаций, но с безопасностью они не связаны. 

\Paragraph{RATS}
%
\Term{RATS} направлен на поиск узявимостей переполнения буфера, состояния гонки и других видов \WebSifte{RATS}. 
%
Данное инструментальное средство приводит несколько предостережений безопасности, но ревизия соответствующих участков кода ошибок не выявила (см. \ReferenceToAppendix{appendix_rats_output}). 
%
Первое из них связано с возможностью переполнения буфера, содержащего данные передаваемого сетевым расширением \EnglishText{ICMP}-пакета. 
%
Его использование выполняется в рамках безопасности. 
%
Второе предостережение связано с возможностью состояния гонки при регистрации нескольких сигналов с помощью функции \SourceCode{signal()}. 
%
Но в приложении регистрируется только один. 
%
Последнее предупреждение связано с опасностью использования функции \SourceCode{gethostbyname()}, результаты которой могут быть подменены извне. 
%
Но за её безопасность ответственно программное окружение \EnglishText{PeerHood} (платформа или \RussianAbbreviation{ОС}), а не само приложение.  

\Paragraph{Выводы}
%
Таким образом, проведение статического анализа \EnglishText{PeerHood} ошибок безопасности на уровне кода не выявило. 
%
Отчасти это можно объяснить тем, что приложение активно использует средства фреймворка \EnglishText{Qt}. 

% -------------------------------------------------------------------------------------------------------------------------

\SubSubSectionTitle{Проведение динамического анализа кода}{peerhood_analysis_security_testing_dynamic_analysis}

\Paragraph{Цель проведения динамического анализа}
%
Целью проведения динамического анализа является поиск уязвимостей безопасности времени выполнения (см. \ReferenceToSection{software_security_analysis_gray_box_techniques_dynamic_code_analysis}). 
%
Оно заключается в использовании автоматических средств, направленных на обнаружение аномальных действий, поиск ошибок взаимодействия с программным окружением и других дефектов, влияющих на безопасность. 
%
С помощью его могут быть следующие ошибки времени выполнения: переполнение буфера, уязвимость форматных строк, утечка памяти и другие. 
%
Для проведения динамического анализа \EnglishText{PeerHood} используются инструментальных средства \Term{Valgrind} и \Term{Helgrind}. 

\Paragraph{Valgrind}
%
\Term{Valgrind} направлен на поиск ошибок времени выполнения, перечисленных выше, и ошибок, связанных с распределением памяти \WebSite{Valgrind}. 
%
Использование данного инструментального средства каких-либо аномальных действий или ошибок не выявило (см. \ReferenceToAppendix{appendix_valgrind_output}). 
%
Стоит отметить, что им обнаружена потенциальная утечка памяти, но ревизия исходного кода \EnglishText{PeerHood} показала, что утечка связана с внутренней реализацией средств \EnglishText{Qt}. 


\Paragraph{Helgrind}
%
\Term{Helgrind} направлен на обнаружение ошибок синхронизации, в том числе состояния гонок \WebSite{Helgrind}. 
%
Его использование не выявило ошибок, связанных с неправильным использованием примитивов синхронизации в \EnglishText{PeerHood} (см. \ReferenceToAppendix{appendix_helgrind_output}). 
%
В свою очередь им обнаружена потенциальное появление состояния гонки во многих местах приложения. 
%
Но как показал дальнейший анализ, оно связано с внутренней реализацией используемых средств \EnglishText{Qt}. 

\Paragraph{Выводы}
%
Таким образом, проведение динамического анализа \EnglishText{PeerHood} ошибок времени выполнения не выявило. 
%
Однако обнаружены потенциальные ошибки в \EnglishText{Qt}, средства которого используются \EnglishText{PeerHood}. 
%
Поэтому можно сделать вывод о том, что безопасность \EnglishText{PeerHood} зависит от безопасности данной платформы.  

% -------------------------------------------------------------------------------------------------------------------------

\SubSubSectionTitle{Внедрение неисправностей}{peerhood_analysis_security_testing_fault_injection}

\Paragraph{Цель внедрения неисправностей}
%
Целью внедрения неисправностей является оценка устойчивости приложения в условии некорректного функционирования используемых им компонентов или ресурсов (см. \ReferenceToSection{software_security_analysis_black_box_techniques_fault_injection}). 
%
Оно заключается во внесении неисправности в какой-либо компонент тестируемого приложения, после чего проводится проверка корректности взаимодействия других компонентов с данным. 

\Paragraph{Внесение неисправностей в компоненты PeerHood}
%
\EnglishText{PeerHood} состоит из следующих взаимодействующих элементов: сетевые расширения, демон, библиотека общих компонентов и пользовательская библиотека, пользовательское приложение, файл конфигурации (см. \ReferenceToSection{peerhood_analysis_risk_modeling}). 
%
Взаимодействие происходит следующими способами:
\begin{itemize}
	%\leftskip2em%
	\setlength{\itemsep}{0pt}%
	%\setlength{\parsep}{0pt}%

	\item динамическое связывание разделяемых объектов (библиотек) и дальнейшее взаимодействие посредством \Abbreviation{API} (демон -- сетевые расширения, демон -- библиотека общих компонентов, пользовательская библиотека -- библиотека общих компонентов, пользовательское приложение -- пользовательская библиотека)
	\item взаимодействие посредством сетевого сокета (демон -- демон, пользовательская библиотека -- демон)
	\item взаимодействие с использованием средств файловой системы (библиотека общих компонентов -- файл конфигурации)
\end{itemize}

\Paragraph{Анализ взаимодействия посредством API}
%
Внедрение бинарной неисправности в разделяемый объект (библиотеку) может быть двух видов. 
%
Первый из них затрагивает интерфейсную часть данного объекта. 
%
В этом случае происходит ошибка в процессе его динамического связывания, что приводит к отказу его в работе. 
%
Второй же затрагивает лишь изменение внутреннего функционирования данного объекта, что приводит к его некорректному функционированию. 
%
Это может оказать влияение на тестируемый компонент, например, возврат некорректных или даже зловредных данных. 
%
Для оценки отказоустойчивости тестируемого компонента необходимо провести анализ \Abbreviation{API}, который используется для данного взаимодействия. 
%
Так как исходный код \EnglishText{PeerHood} доступен, лучшим способом выполнения данного действия является ревизия соответствующих участков кода. 

\Paragraph{Анализ взаимодействия посредством сетевого сокета}
%
Такой же вывод можно сделать относительно компонентов, взаимодействующих посредством сетевого сокета (демон и пользовательская библиотека). 
%
Полученные таким способом данные могут быть некорректными, поэтому необходимо выполнение оценки отказоустойчивости к ним данных компонентов. 
%
При доступности исходного кода \EnglishText{PeerHood} наиболее доступным способом выполнения данного действия является ревизия соответствующих участков кода. 

\Paragraph{Анализ взаимодействия с использованием файловой системы}
%
Библиотека общих компонентов содержит средства конфигурирования приложения. 
%
\EnglishText{PeerHood} хранит свою конфигурацию в заданном файле специально заданного формата. 
%
Отсутствие данного файла или нарушение его формата приводит к отказу от работы \EnglishText{PeerHood}. 
%
В конфигурационном файле содержится путь к файлам сетевых расширений, которые загружаются демоном. 
%
В текущей реализации демона не предусмотрено значение данного ключа по умолчанию, поэтому его отсутствие влечёт за собой невозможность загрузки сетевых расширений и функционирования самого демона. 

\Paragraph{Анализ контроля доступа к файлам PeerHood}
%
Текущая реализация \EnglishText{PeerHood} не содержит специального скрипта установки. 
%
В данный момент развёртывание приложения заключается в копировании библиотек, исполняемых модулей и ресурсов в заданный каталог. 
%
Для них не выставляются необходимые с точки зрения безопасности права доступа. 

\Paragraph{Возможность компрометации модулей}
%
Это может привести к компрометации модулей \EnglishText{PeerHood}. 
%
Следствием этого является возможность отказа в работе приложения или возможность проведения атаки на передаемые между ними данные. 

\Paragraph{Анализ контроля доступа конфигурационного файла}
%
\EnglishText{PeerHood} также использует текстовый файл для хранения в нём собственной конфигурации. 
%
Данный файл также доступен для чтения и записи для других приложений. 
%
Поэтому существует риск внесения в него несанкционированных изменений. 
%
Целью данного действия может быть, например, изменение пути к файлам сетевых расширений с последующей загрузкой демоном зловредных сетевых расширений.

\Paragraph{Выводы}
%
Используя метод внесения неисправностей в ресурсы \EnglishText{PeerHood}, была выявлена уязвимость, связанная с его небезопасным развёртыванием. 
%
Её эксплойтирование со стороны злоумышленника приводит к нарушению всех составляющих безопасности \EnglishText{PeerHood} (см. \ReferenceToSection{peerhood_analysis_security_testing_method_choosing}).
% -------------------------------------------------------------------------------------------------------------------------

\SubSubSectionTitle{Ревизия кода}{peerhood_analysis_security_testing_code_inspection}

\Paragraph{Цель ревизии кода}
%
Целью проведения ревизии кода \EnglishText{PeerHood} является поиск уязвимостей, влияющих на его безопасность.  
%
Согласно \Reference{NISTSP500268} \Reference{Michael2005}, данный процесс состоит следующих шагов: установления цели ревизии, выбора классов потенциальных уязвимостей и их дальнейший поиск в коде. 
%
Целью ревизии \EnglishText{PeerHood} является оценка составляющих его безопасности, перечисленных в \InReferenceToSection{peerhood_analysis_security_testing_method_choosing}. 
%
Причём особое внимание уделяются участкам кода, соответствующим ''уязвимым'' местам (см. \ReferenceToSection{peerhood_analysis_risk_modeling}). 
%
В качестве классов уязвимости можно выбрать категории классификации ''\EnglishText{Seven Pernicious Kingdoms}'' (см. \ReferenceToSection{software_security_vulnerabilities_seven_pernicious_kingdoms}). 
%
Среди них проверка входных данных и их представление, неправильное использование \Abbreviation{API}, средства безопасности, время и состояние, ошибки, инкапсуляция, программное окружение \Reference{Tsipenyuk2005}. 

\Paragraph{Проверка входных данных}
%
Категория ''входные данные'' состоит из следующего вида уязвимостей: переполнение буфера, внедрение кода, уязвимости форматных строк, переполнение целочисленных данных, неверное значение указателя \Reference{Tsipenyuk2005}. 
%
Массивы С/С++ в исходном коде \EnglishText{PeerHood} не используются, за исключением случая, рассмотренного в \InReferenceToSection{peerhood_analysis_security_testing_static_analysis}. 
%
Вместо них используются их безопасные \EnglishText{Qt}-аналоги: \SourceCode{QString}, \SourceCode{QList}, \SourceCode{QStringList}, \SourceCode{QByteArray} \WebSite{QtDocs}. 
%
Форматные строки в проекте также не используются. 
%
Ревизия исходного кода показала отсутствие ошибок переполнения целочисленных данных, а также работы с указателями. 

\Paragraph{Средства безопасности}
%
Категория ''средства безопасности'' содержит уязвимости, связанные с полным или частичным отсутствием механизмов безопасности (контроль доступа, авторизация, аутентификация, защита передаваемых данных и др.) \Reference{Tsipenyuk2005}. 
%
Согласно спецификации (см. \ReferenceToSection{peerhood}), в \EnglishText{PeerHood} отсутствуют механизмы безопасности. 
%
Но их реализация запланирована и входит в одно из направлений дальнейшей разработки проекта. 
%
Ревизия исходного кода показала, что данные между мобильными устройствами сетевого окружения передаются в незашифрованном виде. 
%
Поэтому можно сказать, что конфиденциальность и целостность передаваемых данных как составляющие безопасности \EnglishText{PeerHood} могут быть нарушены. 

\Paragraph{Ошибки}
%
Категория ''ошибки'' содержит следующего вида уязвимости: двойное освобождение памяти, утечка памяти, разыменование \SourceCode{NULL}-указателя \Reference{Tsipenyuk2005}. 
%
Текущая версия \EnglishText{PeerHood} поставляется с набором тестов, в том числе направленных на проверку утечку памяти. 
%
Они выполняются успешно, что свидетельствует об отсутствии уязвимости утечки памяти в исходном коде \EnglishText{PeerHood}. 
%
Это подтверждают результаты динамического анализа (см. \ReferenceToSection{peerhood_analysis_security_testing_dynamic_analysis}). 
%
Ревизия исходного кода показала отсутствие уязвимостей, связанных с разыменованием \SourceCode{NULL}-указателей и двойным освобождением памяти. 

\Paragraph{Программное окружение}
%
Категория ''ошибки'' содержит следующего вида уязвимости: неправильная установка прав доступа к используемым файлам, хранение конфиденциальной информации в незашифрованном виде \Reference{Tsipenyuk2005}. 
%
Уязвимость \EnglishText{PeerHood}, связанная с правами доступа файла конфигурации, была рассмотрена в \InReferenceToSection{peerhood_analysis_security_testing_fault_injection}. 
%
Помимо неё существует ещё она, связанная с тем, что в файле конфигурации хранится имя мобильного устройства и его идентификатор. 
%
Они используются для различения устройств в сетевом окружении. 
%
Несанкционированное изменение этих параметров может привести к выдаче одного устройства за другое. 
%
Последствием этого может быть нарушение конфиденциальности данных как составляющей безопасности \EnglishText{PeerHood}. 

\Paragraph{Инкапсуляция}
%
Категория ''инкапсуляция'' содержит следующего вида уязвимости: раскрытие лишней информации, нарушение инкапсуляции классов приложения \Reference{Tsipenyuk2005}. 
%
В текущей реализации \EnglishText{PeerHood} демон использует имя хоста и идентификатор устройства, на котором он запущен, другим демонам в сетевом окружении. 
%
Такое поведение с точки зрения безопасности можно считать раскрытием лишней информации, так как это помогает злоумышленнику в выдаче себя за другое устройство в сети. 
%
Последствия данной уязвимости уже были рассмотрены выше в данном подразделе.
%
Поиск нарушений инкапсуляции классов \Abbreviation{API} \EnglishText{PeerHood} осуществляется дальше в этом подразделе. 

\Paragraph{Неправильное использование API}
%
Категория ''неправильное использование \Abbreviation{API}'' связана с нарушением контрактов элементов \Abbreviation{API} \Reference{Tsipenyuk2005}. 
%
Такое действие может способствовать некорректному функционированию приложения, в том числе небезопасному. 
%
Анализ безопасности \EnglishText{PeerHood} \Abbreviation{API} позволяет оценить отказоустойчивость компонентов приложения. 
%
Дополнительно он способствует поиску уязвимостей, связанных с раскрытием информации. 

\Paragraph{Нарушение инкапсуляции}
%
Как уже было упомянуто выше, \EnglishText{PeerHood} использует более безопасные аналоги массивов С/С++: классы \SourceCode{QList}, \SourceCode{QString} и другие. 
%
Согласно документации \EnglishText{Qt} \Reference{QtDocs}, данные классы не являются неизменяемыми, поэтому в ходе работы приложения состояние их объектов  может изменяться. 
%
В том числе и несанкционированно, что может привести к проблемам безопасности.
%
В объектно-ориентированных языках программирования это выражается в нарушении инкапсуляции классов, связанной с изменением значения поля класса со стороны, не в методе данного класса.
%
Такое действие может произойти в случаях, когда метод класса возвращает одно из его полей или когда полю класса присваивается аргумент одного из его методов или конструкторов.
%
С точки зрения безопасности, такая уязвимость может привести к нарушению конфиденциальности, если поле класса содержит конфиденциальную информацию, целостности, когда поле класса несанкционированно изменяет своё значение, а также доступности, когда память объекта-поля несанкционированно освобождается. 

\Paragraph{Нарушение инкапсуляции в PeerHood}
%
\EnglishText{PeerHood} \Abbreviation{API} содержит ряд уязвимостей, связанных с нарушением инкапсуляцией классов. Они перечислены в \ReferenceToTable{peerhood_analysis_security_testing_api_encapsulation}. Данные уязвимости влияют на все функциональные характеристики \EnglishText{PeerHood}, за исключением возможности одновременной поддержки нескольких клиентов и возможности контроля работы системы (см. \ReferenceToSection{peerhood_analysis_security_testing_method_choosing}).

\TableFigure{Методы классов PeerHood API, нарушающие инкапсуляцию}{peerhood_analysis_security_testing_api_encapsulation}{
	\begin{tabular}{ | p{4cm} | p{10cm} | }
		\hline
		\Bold{Класс} & \Bold{Методы/конструкторы} \\ \hline
		\SourceCode{Service} & \SourceCode{const QString\& name() \linebreak \linebreak const QStringList\& attributes() \linebreak \linebreak const QStringList\& attributes()} \\ \hline
		\SourceCode{AbstractConnection} & \SourceCode{const QString remoteAddress()} \\ \hline
		\SourceCode{AbstractCreator} & \SourceCode{const QString\& connectionBase()} \\ \hline
		\SourceCode{AbstractMonitor} & \SourceCode{const QString\& connectionBase() \linebreak \linebreak const QString\& address()} \\ \hline
		\SourceCode{AbstractPinger} & \SourceCode{const QString\& connectionBase() \linebreak \linebreak const QString\& address()} \\ \hline
		\SourceCode{Device} & \SourceCode{const QString\& name() \linebreak \linebreak const QString\& prototype() \linebreak \linebreak const QString\& address() \linebreak \linebreak QList<Service\*>\& serviceList()} \\ \hline
		\SourceCode{AbstractAdverter} & \SourceCode{const QString\& connectionBase()} \\ \hline
	\end{tabular}
}

\Paragraph{Проверка аргументов методов}
%
Для обеспечения отказоустойчивости приложения его компоненты должны осуществлять проверку входных данных. 
%
В случае \Abbreviation{API} в качестве входных данных выступают аргументы функций (методов, конструкторов). 
%
Отсутствие проверки входных данных на корректность компонентом может привести к нарушению его функционирования. 
%
С точки зрения безопасности, это может стать причиной нарушения доступности, когда входные данные имеют непредусмотренное или некорректное значение и приводят к аварийному завершению приложения. 

\Paragraph{Уязвимые методы классов PeerHood API}
%
В \EnglishText{PeerHood} уязвимости такого вида влияют на его функционирование, то есть на функциональные характеристики, связанные с доступностью и возможностю (см. \ReferenceToSection{peerhood_analysis_security_testing_method_choosing}). 
%
В \ReferenceToTable{peerhood_analysis_security_testing_unsafe_api_methods} перечислены методы классов, входящих в \EnglishText{PeerHood} \Abbreviation{API} и не осуществляющих проверку корректности своих аргументов. Ревизия кода также показала, что \EnglishText{PeerHood} не осуществляет проверку входных данных, передаваемых данных. В частности, десериализация классов \SourceCode{Service} и \SourceCode{Device} является небезопасной. 

\TableFigure{Методы классов PeerHood API, не осуществляющие проверку корректности своих аргументов}{peerhood_analysis_security_testing_unsafe_api_methods}{
	\begin{tabular}{ | p{4cm} | p{10cm} | }
		\hline
		\Bold{Класс} & \Bold{Методы/конструкторы} \\ \hline
		\SourceCode{Service} & \SourceCode{void setPort(unsigned int) \linebreak \linebreak Service(const QString\& name, const QStringList\& attributes, unsigned int port, quint64 pid = 0, QObject\* parent=0)} \\ \hline

		\SourceCode{AbstractConnection} & \SourceCode{AbstractConnection(const QString\& connectionBase, const QHostAddress\& address = QHostAddress::Any, QObject\* parent = 0) \linebreak \linebreak bool listen(quint16 port)} \\ \hline
		\SourceCode{AbstractCreator} & \SourceCode{AbstractMonitor\* createMonitor(const QString\& address) \linebreak \linebreak AbstractPinger\* createPinger(const QString\& address)} \\ \hline
		\SourceCode{AbstractMonitor} & \SourceCode{AbstractMonitor(const QString\& address, const QString\& connectionBase)} \\ \hline
		\SourceCode{AbstractPinger} & \SourceCode{AbstractPinger(const QString\& address, const QString\& connectionBase)} \\ \hline
		\SourceCode{Device} & \SourceCode{Device(QDataStream\& stream, QObject \*parent = 0)} \\ \hline
		\SourceCode{PeerHood} & \SourceCode{int registerService(const QString\& name, const QStringList\& attributes = QStringList(), unsigned int port = 0) \linebreak \linebreak bool unregisterService(const QString\& name, unsigned int port = 0) \linebreak \linebreak void connectNotify(const char\* signal) \linebreak \linebreak void disconnectNotify(const char\* signal)} \\ \hline
	\end{tabular}
}

\Paragraph{Возможность контроля работы PeerHood и одновременная поддержка клиентов}
%
Контроль работы \EnglishText{PeerHood} заключается в возможности изменения режима его работы, например перевода в состояние пониженного энергопотребления. 
%
Компоненты \Abbreviation{API}, отвечающие за данную функциональность, с точки зрения безопасности реализованы корректно. 
%
То же самое можно сказать про одновременную поддержку нескольких клиентов. 
%
Она корректно реализована при помощи примитивов синхронизации (\SourceCode{QMutex}). 
%
Ревизия участков кода \EnglishText{PeerHood}, отвечающих за использование ресурсов приложения, уязвимостей состояния гонки также не выявила. 